<p-toast></p-toast>
<div class="container">
    <div class="row">
        <div class="col-md-7">
            <div class="card border-0 shadow-sm">
                <div class="card-body" *ngIf="associate">
                    <!--DISEÃ‘O DEL PERFIL BASICO-->
                    <div class="row">
                        <div class="col-auto">
                            <img src="/assets/multimedia/img/user.png" alt="Imagen usuario" width="100" height="100">
                        </div>
                        <div class="col-8">
                            <div class="row">
                                <div class="col-12">
                                    <h5>
                                        {{associate.names}} {{associate.surname_1}} {{associate.surname_2}}
                                    </h5>
                                    <small class="text-primary">
                                        <i class="pi pi-user mr-2"></i><strong>UID: {{associate.number_identity}}</strong>
                                        <span class="ml-2 px-2 rounded-pill" [ngClass]="{'indev-bg-success':associate.modelTypeStatus.code === 'A',
                                        'indev-bg-warning':associate.modelTypeStatus.code === 'X',
                                        'indev-bg-danger':associate.modelTypeStatus.code === 'R'}">
                                            <strong>{{associate.modelTypeStatus.concept}}</strong></span>
                                    </small>
                                    <div class="description mt-3">
                                        <div class="row">
                                            <div class="col-12">
                                                <span><strong>Ultima actualizacion:</strong></span>
                                                <br>
                                                <span>{{associate.update_data?associate.update_data:'---'}} ({{associate.onUser?associate.onUser.names:'---'}})</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-5">
            <div class="card indev-bg-success border-0 shadow-sm">
                <div class="card-body">
                    <h5>Exportar informacion</h5>
                    <form #frmExport="ngForm" (ngSubmit)="OnSubmit(frmExport)">
                        <div class="form-row">
                            <div class="col-6 indev-input">
                                <p-dropdown [options]="types_requets" [styleClass]="'indev-p-dropdown'" name="inputTypeSolicitud" optionLabel="request" #type_solicitud="ngModel" [(ngModel)]="optionsExport.typeFormat" 
                                    optionValue="request" placeholder="TIPO SOLICITUD" [required]="true"></p-dropdown>
                            </div>
                            <div class="col-6 indev-input">
                                <p-dropdown [options]="types_locations" [styleClass]="'indev-p-dropdown'" name="inputTypeSolicitud" optionLabel="location" #type_solicitud="ngModel" [(ngModel)]="optionsExport.location" 
                                    optionValue="location" placeholder="CIUDAD" [required]="true"></p-dropdown>
                            </div>
                        </div>
                        <div class="form-row my-2 " *ngIf="optionsExport.typeFormat === 'SOLICITUD DE INGRESO'">
                            <div class="col indev-input">
                                <h5 style="color: #ffffff !important;">APORTES ORDINARIOS</h5>
                                <p-inputNumber name="inputOrdinaryContribution" #ordinary_contribution="ngModel" [(ngModel)]="contributions.ordinary_contribution" [required]="true"></p-inputNumber>
                            </div>
                            <div class="col indev-input">
                                <h5 style="color: #ffffff !important;">APORTES</h5>
                                <p-inputNumber name="inputAdmissionFee" #admission_fee="ngModel" [(ngModel)]="contributions.admission_fee" [required]="true"></p-inputNumber>
                            </div>
                        </div>
                        <div class="from-row mt-2">
                            <div class="col-auto">
                                <button pButton class="p-button-warning p-button-sm" type="submit" label="Generar formato" icon="pi pi-save" iconPos="left" [disabled]="frmExport.invalid"></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-5">
        <div class="col">
            <h4><strong>Informacion del asociado</strong></h4>
        </div>
    </div>
    <div class="row py-3">
        <div class="col">
            <p-tabMenu [model]="menu_items" [scrollable]="true"></p-tabMenu>
            <div class="content-menu">
                <div class="card">
                    <div class="card-body">
                        <router-outlet></router-outlet>
                    </div>
                </div>
                <ngx-spinner bdColor="rgba(242, 242, 242, 0.8)" color="rgba(54, 174, 124, 1)" type="ball-fussion"></ngx-spinner>
            </div>
        </div>
    </div>
</div>

